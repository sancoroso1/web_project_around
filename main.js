!function(){"use strict";document.querySelector("#image-popup");var t={formSelector:".popup__content",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonclass:".popup__save-button:disabled",inputErrorClass:".popup__input:invalid",errorClass:".popup__line"};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:String(n)}var o=function(){function t(e,n,r,o){var i=o.handleCardClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._link=e,this._title=n,this._selector=r,this._handleCardClick=i}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){var t=document.querySelector(this._selector).content.querySelector(".elements__container").cloneNode(!0),e=t.querySelector(".elements__image");return t.querySelector(".elements__text").textContent=this._title,e.src=this._link,e.alt=this._title,t}},{key:"_setEventListeners",value:function(t){var e=this;t.querySelector(".elements__image").addEventListener("click",(function(t){e._handleCardClick(e._link,e._title)}));var n=t.querySelector(".elements__heart"),r=t.querySelector(".elements__trash");n.addEventListener("click",(function(e){t.querySelector(".elements__heart").classList.toggle("elements__black-heart")})),r.addEventListener("click",(function(e){t.remove()}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(this._element),this._element}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.validationConfig=e,this.formElement=n}var e,n;return e=t,(n=[{key:"_hideInputError",value:function(t,e){var n=t.querySelector(e);n.textContent="",n.classList.remove(this.validationConfig.errorClass)}},{key:"_showInputError",value:function(t,e,n,r){var o=t.querySelector(e);o.textContent=r,o.classList.add(n.errorClass)}},{key:"_checkInputValidity",value:function(t,e){t.validity.valid?this._hideInputError(t.form,"#input__error-".concat(t.name),e):this._showInputError(t.form,"#input__error-".concat(t.name),this.validationConfig,t.validationMessage),this._toggleButton(t.form,e)}},{key:"_toggleButton",value:function(t,e){var n=Array.from(t.querySelectorAll(e.inputSelector)),r=t.querySelector(e.submitButtonSelector);n.every((function(t){return t.validity.valid}))?(r.disabled=!1,r.classList.remove(e.inactiveButtonClass)):(r.disabled=!0,r.classList.add(e.inactiveButtonClass))}},{key:"enableValidation",value:function(t){var e=this;Array.from(document.forms).forEach((function(t){t.addEventListener("submit",(function(t){t.preventDefault()})),Array.from(t.querySelectorAll(e.validationConfig.inputSelector)).forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t,e.validationConfig)}))})),e._toggleButton(t,e.validationConfig)}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:String(e)}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup__close-button"),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_hide"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_hide"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("click",(function(e){e.target.classList.contains("popup__overlay")&&t.close()}))}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function v(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:String(e)}function b(t,e,n){return e=h(e),function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},_.apply(this,arguments)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=b(this,e,[t]))._image=n._popup.querySelector(".popup__picture"),n._caption=n._popup.querySelector(".popup__card-name"),n}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(r=[{key:"open",value:function(t){var n=t.src,r=t.alt;this._image.src=n,this._image.alt=r,this._caption.textContent=r,_(h(e.prototype),"open",this).call(this)}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(p);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:String(e)}var j=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,n=[{key:"render",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this._container.prepend(t):this._container.append(t)}}],n&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function P(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:String(e)}var L=function(){function t(e){var n=e.nameSelector,r=e.jobSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=n,this._jobElement=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job;this._nameElement.textContent=e,this._jobElement.textContent=n}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T(r.key),r)}}function T(t){var e=function(t,e){if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:String(e)}function I(t,e,n){return e=V(e),function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,x()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},R.apply(this,arguments)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}var A=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=I(this,e,[t]))._submitCallback=n,r._form=r._popup.querySelector(".form"),r._inputList=r._form.querySelectorAll(".popup__input"),r._submitButton=r._form.querySelector(".popup__save-button"),r}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;R(V(e.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitCallback(t._getInputValues()),t.close()}))}},{key:"close",value:function(){R(V(e.prototype),"close",this).call(this),this._form.reset()}}])&&B(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(p),D=document.querySelector(".form_profile"),W=document.querySelector(".profile__button"),M=document.querySelector(".profile__add-button"),N=document.querySelector("#input-name"),U=document.querySelector("#occupation"),Y=(document.querySelector(".form_place"),document.querySelector(".profile__name")),F=document.querySelector(".profile__about-me"),G=new g("#image-popup"),H=new A("#profile__popup",(function(t){var e=t.name,n=t.occupation;Q.setUserInfo({name:e,job:n})})),J=new A("#add__popup",(function(t){var e=t.title,n=t.link,r=new o(n,e,"#card-template",{handleCardClick:function(){G.open({src:n,alt:e})}});K.addItem(r.generateCard(),!1)}));G.setEventListeners(),H.setEventListeners(),J.setEventListeners();var K=new j({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg",alt:"Valle de Yosemite"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg",alt:"Lago Louise"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg",alt:"Montañas Calvas"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg",alt:"Latemar"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg",alt:"Parque Nacional de la Vanoise"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg",alt:"Lago di Braies"}],renderer:function(t){var e=new o(t.link,t.name,"#card-template",{handleCardClick:function(t,e){G.open({src:t,alt:e})}});K.addItem(e.generateCard())}},".elements__list");K.render();var Q=new L({nameSelector:Y,jobSelector:F});W.addEventListener("click",(function(){H.open(),N.value=Y.textContent.trim(),U.value=F.textContent.trim()})),M.addEventListener("click",(function(){J.open()})),new c(t,D).enableValidation(t),new c(t).enableValidation(t)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtWLEtBQU0saUJBQWtCLENBQy9EekMsZ0JBQWlCLFNBQUNKLEVBQU1DLEdBQ3RCd0gsRUFBY08sS0FBSyxDQUFFOUcsSUFBS2xCLEVBQU1tQixJQUFLbEIsR0FDdkMsSUFFRmdJLEVBQWFDLFFBQVFILEVBQVFJLGVBQy9CLEdBQ0MsbUJBRUhGLEVBQWFJLFNBRWIsSUFBTVQsRUFBVyxJQUFJM0IsRUFBUyxDQUFFQyxhQUFjcUIsRUFBYXBCLFlBQWFxQixJQWV4RUwsRUFBUTdGLGlCQUFpQixTQUFTLFdBQ2hDb0csRUFBZ0JNLE9BQ2hCWCxFQUFVekcsTUFBUTJHLEVBQVl0RyxZQUFZcUgsT0FDMUNoQixFQUFnQjFHLE1BQVE0RyxFQUFXdkcsWUFBWXFILE1BQ2pELElBRUFsQixFQUFXOUYsaUJBQWlCLFNBQVMsV0FDbkN3RyxFQUFnQkUsTUFDbEIsSUFFNkIsSUFBSWhHLEVBQWN4QyxFQUFrQjBILEdBQzVDcUIsaUJBQWlCL0ksR0FFWixJQUFJd0MsRUFBY3hDLEdBQzFCK0ksaUJBQWlCL0ksRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMveW9zZW1pdGUuanBnXCIsXHJcbiAgICBhbHQ6IFwiVmFsbGUgZGUgWW9zZW1pdGVcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgIGFsdDogXCJMYWdvIExvdWlzZVwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgICBhbHQ6IFwiTW9udGHDsWFzIENhbHZhc1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcclxuICAgIGFsdDogXCJMYXRlbWFyXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvdmFub2lzZS5qcGdcIixcclxuICAgIGFsdDogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xhZ28uanBnXCIsXHJcbiAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIlxyXG4gIH0sXHJcbl07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGltYWdlUG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLXBvcHVwXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImVycm9yLW1lc3NhZ2VcIixcclxuICBzdWJtaXRCdXR0b25TdGF0ZToge1xyXG4gICAgZGlzYWJsZWRDbGFzczogXCJ5b3VyLXN1Ym1pdC1idXR0b24tZGlzYWJsZWQtY2xhc3NcIixcclxuICB9LFxyXG59IiwiaW1wb3J0IHsgaW1hZ2VQb3BVcCB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVNob3dWaXNpYmlsaXR5KHBvcHVwU2VsZWN0b3IpIHtcclxuICBwb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xyXG4gIHBvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlT25DbGljayk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleVByZXNzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVZpc2liaWxpdHkocG9wdXBTZWxlY3Rvcikge1xyXG4gIHBvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlS2V5UHJlc3MpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VPbkNsaWNrKGV2dCkge1xyXG4gIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm92ZXJsYXlcIikpIHtcclxuICAgIGhhbmRsZVJlbW92ZVZpc2liaWxpdHkoZXZ0LmN1cnJlbnRUYXJnZXQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUVzY2FwZUtleVByZXNzKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCB2aXNpYmxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLnZpc2libGVcIik7XHJcbiAgICBpZiAodmlzaWJsZVBvcHVwKSB7XHJcbiAgICAgIGhhbmRsZVJlbW92ZVZpc2liaWxpdHkodmlzaWJsZVBvcHVwKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQcmV2aWV3UGljdHVyZShsaW5rLCBuYW1lKSB7XHJcbiAgaGFuZGxlU2hvd1Zpc2liaWxpdHkoaW1hZ2VQb3BVcCk7XHJcbiAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXRpdGxlXCIpO1xyXG5cclxuICBpbWFnZS5zcmMgPSBsaW5rO1xyXG4gIGltYWdlLmFsdCA9IFwiSW1hZ2VuIGFtcGxpYWRhIGRlIFwiICsgbmFtZTtcclxuXHJcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTGlrZUljb24oY2FyZEVsZW1lbnQpIHtcclxuICBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2hlYXJ0JykuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudHNfX2JsYWNrLWhlYXJ0Jyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50KSB7XHJcbiAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2NvbnRlbnRcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmUtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25jbGFzczogXCIucG9wdXBfX3NhdmUtYnV0dG9uOmRpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIi5wb3B1cF9faW5wdXQ6aW52YWxpZFwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiLnBvcHVwX19saW5lXCIsXHJcbn07IiwiaW1wb3J0IHsgaGFuZGxlTGlrZUljb24sIGhhbmRsZURlbGV0ZUNhcmQgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IobGluaywgdGl0bGUsIHNlbGVjdG9yLCB7IGhhbmRsZUNhcmRDbGljayB9KSB7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY29udGFpbmVyJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgY29uc3QgaW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltYWdlJyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fdGV4dCcpO1xyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgIGltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICBpbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyhub2RlKSB7XHJcbiAgICBub2RlLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbGluaywgdGhpcy5fdGl0bGUpO1xyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBsaWtlQnV0dG9uID0gbm9kZS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19oZWFydFwiKTtcclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IG5vZGUucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdHJhc2hcIik7XHJcblxyXG4gICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgaGFuZGxlTGlrZUljb24obm9kZSk7XHJcbiAgICB9KTtcclxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgaGFuZGxlRGVsZXRlQ2FyZChub2RlKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMudmFsaWRhdGlvbkNvbmZpZyA9IHZhbGlkYXRpb25Db25maWc7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoZm9ybSwgZXJyb3JTZWxlY3Rvcikge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGVycm9yU2VsZWN0b3IpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMudmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihmb3JtLCBlcnJvclNlbGVjdG9yLCBjb25maWcsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGVycm9yU2VsZWN0b3IpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCwgY29uZmlnKSB7XHJcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQuZm9ybSwgYCNpbnB1dF9fZXJyb3ItJHtpbnB1dC5uYW1lfWAsIGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoXHJcbiAgICAgICAgaW5wdXQuZm9ybSxcclxuICAgICAgICBgI2lucHV0X19lcnJvci0ke2lucHV0Lm5hbWV9YCxcclxuICAgICAgICB0aGlzLnZhbGlkYXRpb25Db25maWcsXHJcbiAgICAgICAgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2VcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbihpbnB1dC5mb3JtLCBjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvbihmb3JtLCBjb25maWcpIHtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIGlmIChpbnB1dHMuZXZlcnkoKGl0ZW0pID0+IGl0ZW0udmFsaWRpdHkudmFsaWQpKSB7XHJcbiAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbihjb25maWcpIHtcclxuICAgIGNvbnN0IGZvcm1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5mb3Jtcyk7XHJcblxyXG4gICAgZm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xyXG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShcclxuICAgICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy52YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0LCB0aGlzLnZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbihmb3JtLCB0aGlzLnZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyk7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfaGlkZScpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfaGlkZScpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX292ZXJsYXlcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waWN0dXJlJyk7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXJkLW5hbWUnKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBzcmMsIGFsdCB9KSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBzcmM7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBhbHQ7XHJcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gYWx0O1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCwgaW5zZXJ0T25Ub3AgPSB0cnVlKSB7XHJcbiAgICBpZiAoaW5zZXJ0T25Ub3ApIHtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBuYW1lU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gam9iU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gam9iO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRDYWxsYmFjaykge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0Q2FsbGJhY2sodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgZm9ybUNvbmZpZyB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi4vY29tcG9uZW50cy91dGlscy5qc1wiO1xyXG5cclxuY29uc3QgZm9ybVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fcHJvZmlsZVwiKTtcclxuY29uc3QgYnRuU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uXCIpO1xyXG5jb25zdCBidG5BZGRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LW5hbWVcIik7XHJcbmNvbnN0IGlucHV0UHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb2NjdXBhdGlvblwiKTtcclxuY29uc3QgZm9ybVVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9wbGFjZVwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIpO1xyXG5jb25zdCBwb3B1cE9iakltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjaW1hZ2UtcG9wdXAnKTtcclxuY29uc3QgcG9wdXBPYmpQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwcm9maWxlX19wb3B1cCcsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KVxyXG5jb25zdCBwb3B1cE9iakFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI2FkZF9fcG9wdXAnLCBoYW5kbGVBZGRGb3JtU3VibWl0KVxyXG5cclxucG9wdXBPYmpJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cE9ialByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBPYmpBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICByZW5kZXJlcjogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChpdGVtLmxpbmssIGl0ZW0ubmFtZSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKGxpbmssIHRpdGxlKSA9PiB7XHJcbiAgICAgICAgcG9wdXBPYmpJbWFnZS5vcGVuKHsgc3JjOiBsaW5rLCBhbHQ6IHRpdGxlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCkpXHJcbiAgfVxyXG59LCAnLmVsZW1lbnRzX19saXN0Jyk7XHJcblxyXG5jYXJkc1NlY3Rpb24ucmVuZGVyKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IG5hbWVTZWxlY3RvcjogcHJvZmlsZU5hbWUsIGpvYlNlbGVjdG9yOiBwcm9maWxlSm9iIH0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoeyBuYW1lLCBvY2N1cGF0aW9uIH0pIHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWUsIGpvYjogb2NjdXBhdGlvbiB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkRm9ybVN1Ym1pdCh7IHRpdGxlLCBsaW5rIH0pIHtcclxuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQobGluaywgdGl0bGUsIFwiI2NhcmQtdGVtcGxhdGVcIiwge1xyXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgIHBvcHVwT2JqSW1hZ2Uub3Blbih7IHNyYzogbGluaywgYWx0OiB0aXRsZSB9KTtcclxuICAgIH1cclxuICB9KTtcclxuICBjYXJkc1NlY3Rpb24uYWRkSXRlbShuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpLCBmYWxzZSk7XHJcbn1cclxuXHJcbmJ0blNhdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cE9ialByb2ZpbGUub3BlbigpO1xyXG4gIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50LnRyaW0oKTtcclxuICBpbnB1dFByb2Zlc3Npb24udmFsdWUgPSBwcm9maWxlSm9iLnRleHRDb250ZW50LnRyaW0oKTtcclxufSk7XHJcblxyXG5idG5BZGRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgcG9wdXBPYmpBZGRDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBGb3JtVmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1Qcm9maWxlKTtcclxuRm9ybVZhbGlkYXRvclByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZyk7XHJcbmZvcm1WYWxpZGF0b3JDYXJkLmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7Il0sIm5hbWVzIjpbImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbmNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJsaW5rIiwidGl0bGUiLCJzZWxlY3RvciIsIl9yZWYiLCJoYW5kbGVDYXJkQ2xpY2siLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2xpbmsiLCJfdGl0bGUiLCJfc2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwia2V5IiwidmFsdWUiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJpbWFnZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0Iiwibm9kZSIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwibGlrZUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiZm9ybSIsImVycm9yU2VsZWN0b3IiLCJlcnJvckVsZW1lbnQiLCJjb25maWciLCJlcnJvck1lc3NhZ2UiLCJhZGQiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJjb25jYXQiLCJuYW1lIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfdG9nZ2xlQnV0dG9uIiwiaW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInN1Ym1pdEJ1dHRvbiIsImV2ZXJ5IiwiaXRlbSIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImZvcm1zIiwiZm9yRWFjaCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfY2xvc2VCdXR0b24iLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9jYWxsU3VwZXIiLCJfaW1hZ2UiLCJfY2FwdGlvbiIsIl9pbmhlcml0cyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJjYWxsIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicHJlcGVuZCIsImFwcGVuZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfam9iRWxlbWVudCIsImpvYiIsIl9yZWYyIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdENhbGxiYWNrIiwiX3N1Ym1pdENhbGxiYWNrIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiX3N1Ym1pdEJ1dHRvbiIsImlucHV0VmFsdWVzIiwiX3RoaXMyIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJmb3JtUHJvZmlsZSIsImJ0blNhdmUiLCJidG5BZGRJdGVtIiwiaW5wdXROYW1lIiwiaW5wdXRQcm9mZXNzaW9uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwicG9wdXBPYmpJbWFnZSIsInBvcHVwT2JqUHJvZmlsZSIsIm9jY3VwYXRpb24iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBPYmpBZGRDYXJkIiwibmV3Q2FyZCIsIm9wZW4iLCJjYXJkc1NlY3Rpb24iLCJhZGRJdGVtIiwiZ2VuZXJhdGVDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW5kZXIiLCJ0cmltIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=